(window.webpackJsonp=window.webpackJsonp||[]).push([[361],{495:function(t,e,a){"use strict";a.r(e);var s=a(0),n=Object(s.a)({},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"content"},[t._m(0),t._v(" "),t._m(1),t._v(" "),a("p",[t._v("openHAB is able to play sound either from the file system (files need to be put in the folder "),a("code",[t._v("conf/sounds")]),t._v("), from URLs (e.g. Internet radio streams) or generated by text-to-speech engines (which are available as optional "),a("router-link",{attrs:{to:"/docs/addons/voices.html"}},[t._v("Voice add-ons")]),t._v(").")],1),t._v(" "),a("p",[t._v("There are different options for output devices (so called audio sinks):")]),t._v(" "),a("p",[t._v("The distribution comes with these options built-in:")]),t._v(" "),t._m(2),t._v(" "),a("p",[t._v("Additionally, certain bindings register their supported devices as audio sinks, e.g. Sonos speakers.")]),t._v(" "),a("p",[t._v("To check, which audio sinks are available, you can use the console:")]),t._v(" "),t._m(3),t._m(4),t._v(" "),a("p",[t._v("In order to play a sound, you can use the following command on the console:")]),t._v(" "),t._m(5),a("p",[t._v("Alternatively the "),a("a",{attrs:{href:"https://www.eclipse.org/smarthome/documentation/javadoc/org/eclipse/smarthome/model/script/actions/Audio.html#playSound-java.lang.String-",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("playSound()")]),t._v(" function"),a("OutboundLink")],1),t._v(" can be used in DSL rules:")]),t._v(" "),t._m(6),t._m(7),t._v(" "),t._m(8),t._v(" "),a("p",[t._v("In order to use text-to-speech, you need to install at least one "),a("router-link",{attrs:{to:"/docs/addons/voices.html"}},[t._v("TTS service")]),t._v(".\nOnce you have done so, you will find voices available in your system:")],1),t._v(" "),t._m(9),t._m(10),t._v(" "),a("p",[t._v("In order to say a text, you can enter such a command on the console (The default voice and default audio sink will be used):")]),t._v(" "),t._m(11),a("p",[t._v("Alternatively you can execute such commands within DSL rules by using the "),a("a",{attrs:{href:"https://www.eclipse.org/smarthome/documentation/javadoc/org/eclipse/smarthome/core/voice/VoiceManager.html#say-java.lang.String-",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("say()")]),t._v(" function"),a("OutboundLink")],1),t._v(":")]),t._v(" "),t._m(12),a("p",[t._v("You can select a particular voice (second parameter) and a particular audio sink (third parameter).\nIf no voice or no audio sink is provided, the default voice and default audio sink will be used.")]),t._v(" "),t._m(13),t._v(" "),a("p",[t._v("Although there are already interfaces defined in openHAB for speech-to-text, up to now there is no add-on available for this functionality.\nSo the only choice that is available right now is to use the Android voice recognition feature that is built into the openHAB Android app.")]),t._v(" "),a("p",[t._v("The Android app is "),a("a",{attrs:{href:"https://github.com/openhab/openhab-android/issues/242",target:"_blank",rel:"noopener noreferrer"}},[t._v("not yet adapted to the openHAB 2 voice features"),a("OutboundLink")],1),t._v('.\nTo still use the voice feature you will need to have a String item with the name "VoiceCommand" defined, to which the app sends any recognized text as a string command.')]),t._v(" "),t._m(14),t._v(" "),a("p",[t._v("Human language interpreters are meant to process prose that e.g. is a result of voice recognition or from other sources.")]),t._v(" "),a("p",[t._v("There are two implementations available by default:")]),t._v(" "),a("table",[t._m(15),t._v(" "),a("tbody",[t._m(16),t._v(" "),a("tr",[t._m(17),t._v(" "),a("td",[t._v("Built-in Interpreter")]),t._v(" "),a("td",[t._v('This is a simple implementation that understands basic home automation commands like "turn on the light" or "stop the music". It currently supports only English, German and French and the vocabulary is still very limited. The exact syntax still needs to be documented, for the moment you need to refer to the '),a("a",{attrs:{href:"https://github.com/eclipse/smarthome/blob/master/bundles/core/org.eclipse.smarthome.core.voice/src/main/java/org/eclipse/smarthome/core/voice/internal/text/StandardInterpreter.java#L37",target:"_blank",rel:"noopener noreferrer"}},[t._v("source code"),a("OutboundLink")],1),t._v(".")])])])]),t._v(" "),a("p",[t._v("To test the interpreter, you can enter such a command on the console (assuming you have an item with label 'light'):")]),t._v(" "),t._m(18),a("p",[t._v("The default human language interpreter will be used.\nIn case of interpretation error, the error message will be said using the default voice and default audio sink.")]),t._v(" "),a("p",[t._v("Again, such a command can also be entered within DSL rules (using the "),a("a",{attrs:{href:"https://www.eclipse.org/smarthome/documentation/javadoc/org/eclipse/smarthome/core/voice/VoiceManager.html#interpret-java.lang.String-",target:"_blank",rel:"noopener noreferrer"}},[a("code",[t._v("interpret()")]),t._v(" function"),a("OutboundLink")],1),t._v(")")]),t._v(" "),t._m(19),a("p",[t._v("You can select a particular human language interpreter (second parameter) and a particular audio sink (third parameter).\nThe audio sink parameter is used when the interpretation fails; in this case, the error message is said using the default voice and the provided audio sink.\nIf the provided audio sink is set to null, the error message will not be said.\nIf no human language interpreter or no audio sink is provided, the default human language interpreter and default audio sink will be used.\nThe interpretation result is returned as a string.\nNote that this result is always a null string with the rule-based Interpreter (rulehli).")]),t._v(" "),a("DocPreviousVersions"),t._v(" "),a("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"multimedia"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#multimedia","aria-hidden":"true"}},[this._v("#")]),this._v(" Multimedia")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"audio"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#audio","aria-hidden":"true"}},[this._v("#")]),this._v(" Audio")])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("table",[a("thead",[a("tr",[a("th",[t._v("Output Device")]),t._v(" "),a("th",[t._v("Audio Sink")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[a("code",[t._v("javasound")])]),t._v(" "),a("td",[t._v("System Speaker")]),t._v(" "),a("td",[t._v("This uses the JRE sound drivers to play audio to the local sound interface.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("enhancedjavasound")])]),t._v(" "),a("td",[t._v("System Speaker (with mp3 support)")]),t._v(" "),a("td",[t._v("This uses the JRE sound drivers plus an additional 3rd party library, which adds support for mp3 files.")])]),t._v(" "),a("tr",[a("td",[a("code",[t._v("webaudio")])]),t._v(" "),a("td",[t._v("Web Audio")]),t._v(" "),a("td",[t._v("Convenient, if sounds should not be played on the server, but on the client: This sink sends the audio stream through HTTP to web clients, which then cause it to be played back by the browser. Obviously, the browser needs to be opened and have a compatible openHAB UI running. Currently, this feature is supported by Paper UI and HABPanel.")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("openhab> smarthome:audio sinks\nenhancedjavasound\njavasound\nwebaudio\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can define the default audio sink either by textual configuration in "),e("code",[this._v("conf/services/runtime.cfg")]),this._v(" or in the Paper UI in "),e("code",[this._v("Configuration->System->Audio")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("openhab> smarthome:audio play doorbell.mp3\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[e("span",{attrs:{class:"token function"}},[this._v("playSound")]),e("span",{attrs:{class:"token punctuation"}},[this._v("(")]),e("span",{attrs:{class:"token string"}},[this._v('"doorbell.mp3"')]),e("span",{attrs:{class:"token punctuation"}},[this._v(")")]),this._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"voice"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#voice","aria-hidden":"true"}},[this._v("#")]),this._v(" Voice")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"text-to-speech"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#text-to-speech","aria-hidden":"true"}},[this._v("#")]),this._v(" Text-to-Speech")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("openhab> smarthome:voice voices\nmactts:Jorge Jorge (es_ES)\nmactts:Moira Moira (en_IE)\nmactts:Alice Alice (it_IT)\nmactts:Ioana Ioana (ro_RO)\nmactts:Kanya Kanya (th_TH)\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("You can define a default TTS service and a default voice to use either by textual configuration in "),e("code",[this._v("conf/services/runtime.cfg")]),this._v(" or in the Paper UI in "),e("code",[this._v("Configuration->System->Voice")]),this._v(".")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("openhab> smarthome:voice say Hello world!\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("say")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Hello world!"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("say")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Hello world!"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"voicerss:enGB"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token function"}},[t._v("say")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Hello world!"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"voicerss:enUS"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"sonos:PLAY5:kitchen"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"speech-to-text"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#speech-to-text","aria-hidden":"true"}},[this._v("#")]),this._v(" Speech-to-Text")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"human-language-interpreter"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#human-language-interpreter","aria-hidden":"true"}},[this._v("#")]),this._v(" Human Language Interpreter")])},function(){var t=this.$createElement,e=this._self._c||t;return e("thead",[e("tr",[e("th",[this._v("Interpreter")]),this._v(" "),e("th",[this._v("Type")]),this._v(" "),e("th",[this._v("Description")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("tr",[e("td",[e("code",[this._v("rulehli")])]),this._v(" "),e("td",[this._v("Rule-based Interpreter")]),this._v(" "),e("td",[this._v('This mimics the behavior of the Android app - it sends the string as a command to a (configurable, default is "VoiceCommand") item and expects a rule to pick it up and further process it.')])])},function(){var t=this.$createElement,e=this._self._c||t;return e("td",[e("code",[this._v("system")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language-text extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v("openhab> smarthome:voice interpret turn on the light\n")])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-rules"}},[a("code",[a("span",{attrs:{class:"token function"}},[t._v("interpret")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"turn on the light"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("var")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("String")]),t._v(" result "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("interpret")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"turn on the light"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"system"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("interpret")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"turn on the light"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"system"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token constant"}},[t._v("null")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\nresult "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),a("span",{attrs:{class:"token function"}},[t._v("interpret")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token function-name"}},[t._v("VoiceCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("state"),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"system"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"sonos:PLAY5:kitchen"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])])}],!1,null,null,null);n.options.__file="multimedia.md";e.default=n.exports}}]);