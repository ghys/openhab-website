(window.webpackJsonp=window.webpackJsonp||[]).push([[100],{605:function(t,e,s){"use strict";s.r(e);var a=s(0),n=Object(a.a)({},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"content"},[t._m(0),t._v(" "),s("div",{staticClass:"danger custom-block"},[s("p",{staticClass:"custom-block-title"},[t._v("OBSOLETE BINDING")]),t._v(" "),s("p",[t._v("This 1.x binding is obsolete; it has been replaced by the 2.x "),s("router-link",{attrs:{to:"./../exec/"}},[t._v("exec")]),t._v(" binding which you should use instead.")],1)]),t._v(" "),s("p",[t._v("Execute commands as you would enter on the command line, returning the output (possibly transformed) as the bound item's state.  Also, execute command lines in response to commands sent to bound items.")]),t._v(" "),t._m(1),t._v(" "),t._m(2),t._v(" "),s("ul",[s("li",[t._v("The user under which you are running openHAB should have the necessary permissions in order to execute your command lines.")]),t._v(" "),t._m(3),t._v(" "),s("li",[t._v("There is also a binding specifically for openHAB 2 "),s("router-link",{attrs:{to:"/addons/bindings/exec/"}},[t._v("here")]),t._v(".")],1)]),t._v(" "),t._m(4),t._v(" "),s("p",[t._v("This binding does not have a configuration.")]),t._v(" "),t._m(5),t._v(" "),t._m(6),t._v(" "),s("p",[t._v('When updating the states of items based on executing a command line (an "in" binding):')]),t._v(" "),t._m(7),s("p",[t._v("where:")]),t._v(" "),t._m(8),t._v(" "),s("p",[t._v("Example item:")]),t._v(" "),t._m(9),t._m(10),t._v(" "),s("p",[t._v('When executing a command line in response to the item receiving a command (an "out" binding):')]),t._v(" "),t._m(11),s("p",[t._v("where:")]),t._v(" "),t._m(12),t._v(" "),s("p",[t._v("Example item:")]),t._v(" "),t._m(13),t._m(14),t._v(" "),s("p",[t._v("Deprecated format (do not use; retained for backward compatibility only):")]),t._v(" "),t._m(15),t._m(16),t._v(" "),s("p",[t._v("You can substitute formatted values into the command using the syntax described "),s("a",{attrs:{href:"https://docs.oracle.com/javase/7/docs/api/java/util/Formatter.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("here"),s("OutboundLink")],1),t._v(".")]),t._v(" "),s("ol",[s("li",[t._v("the current "),s("a",{attrs:{href:"https://docs.oracle.com/javase/7/docs/api/java/util/Date.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("date"),s("OutboundLink")],1),t._v(", like "),s("code",[t._v("%1$tY-%1$tm-%1$td")]),t._v(".")]),t._v(" "),t._m(17),t._v(" "),t._m(18)]),t._v(" "),t._m(19),t._v(" "),t._m(20),t._v(" "),t._m(21),t._v(" "),t._m(22),t._v(" "),s("p",[t._v("On possible useage is to turn a computer on or off.  The Wake-on-LAN binding could be bound to a Switch item, so that when the switch receives an ON command, A Wake-on-LAN message is sent to wake up the computer.  When the switch item receives an OFF command, it will call the Exec binding to connect via ssh and issue the shutdown command.  Here is the example item:")]),t._v(" "),t._m(23),t._m(24),t._v(" "),s("p",[t._v("The example below combines three bindings to incorporate the following behavior: query the current state of the NAS with the given IP address. When receiving an OFF command over KNX or the user switches to OFF manually then send the given command line via the exec binding.")]),t._v(" "),t._m(25),t._m(26),t._v(" "),t._m(27),s("DocPreviousVersions"),t._v(" "),s("EditPageLink")],1)},[function(){var t=this.$createElement,e=this._self._c||t;return e("h1",{attrs:{id:"exec-binding"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exec-binding","aria-hidden":"true"}},[this._v("#")]),this._v(" Exec Binding")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("See "),e("a",{attrs:{href:"#examples"}},[this._v("examples")]),this._v(" below.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"considerations"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#considerations","aria-hidden":"true"}},[this._v("#")]),this._v(" Considerations")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("When using the "),e("code",[this._v("ssh")]),this._v(" command, you should use private key authorization, since the password cannot be read from the command line.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"binding-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#binding-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Binding Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"item-configuration"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#item-configuration","aria-hidden":"true"}},[this._v("#")]),this._v(" Item Configuration")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"update-item-states"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#update-item-states","aria-hidden":"true"}},[this._v("#")]),this._v(" Update item states")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('exec="<[<commandLine to execute>:<refreshintervalinmilliseconds>:(<transformationrule>)]"\n')])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("<commandLine to execute>")]),t._v(" is the command line to execute.  See "),s("a",{attrs:{href:"#formatting"}},[t._v("Formatting")]),t._v(" and "),s("a",{attrs:{href:"#splitting"}},[t._v("Splitting")]),t._v(" sections below.")]),t._v(" "),s("li",[s("code",[t._v("<refreshintervalinmilliseconds>")]),t._v(" is the frequency at which to repeatedly execute the command line.")]),t._v(" "),s("li",[s("code",[t._v("<transformationrule>")]),t._v(" is optional, and can be used to transform the string returned from the command before updating the state of the item.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Temperature")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Ext. Temp. [%.1fÂ°C]"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" exec"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"<[curl -s http://weather.yahooapis.com/forecastrss?w=566473&u=c:60000:XSLT(demo_yahoo_weather.xsl)]"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"sending-commands"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#sending-commands","aria-hidden":"true"}},[this._v("#")]),this._v(" Sending commands")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('exec=">[<openHAB-command>:<commandLine to execute>] (>[<openHAB-command>:<commandLine to execute>]) (>[...])"\n')])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ul",[s("li",[s("code",[t._v("<openHAB-command>")]),t._v(" is the openHAB command that will trigger the execution of the command line.  Can be "),s("code",[t._v("ON")]),t._v(", "),s("code",[t._v("OFF")]),t._v(", "),s("code",[t._v("INCREASE")]),t._v(", etc., or the special wildcard command '"),s("code",[t._v("*")]),t._v("' which is called in cases where no direct match could be found")]),t._v(" "),s("li",[s("code",[t._v("<commandLine to execute>")]),t._v(" is the command to execute.  See "),s("a",{attrs:{href:"#formatting"}},[t._v("Formatting")]),t._v(" and "),s("a",{attrs:{href:"#splitting"}},[t._v("Splitting")]),t._v(" sections below.")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("Number")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("SoundEffect")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"Play Sound [%d]"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" exec"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('">[1:open /mp3/gong.mp3] >[2:open /mp3/greeting.mp3] >[*:open /mp3/generic.mp3]"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"old-format"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#old-format","aria-hidden":"true"}},[this._v("#")]),this._v(" Old Format")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('exec="<openHAB-command>:<commandLine to execute>[,<openHAB-command>:<commandLine to execute>][,...]"\n')])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"formatting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#formatting","aria-hidden":"true"}},[this._v("#")]),this._v(" Formatting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("the current command or state, like "),e("code",[this._v("%2$s")]),this._v(" (out bindings only)")])},function(){var t=this.$createElement,e=this._self._c||t;return e("li",[this._v("the current item name (like "),e("code",[this._v("%3$s")]),this._v(").")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"splitting"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#splitting","aria-hidden":"true"}},[this._v("#")]),this._v(" Splitting")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("Sometimes the "),e("code",[this._v("<commandLine to execute>")]),this._v(" isn't executed properly. In that case, another exec-method can be used. To accomplish this please use the special delimiter "),e("code",[this._v("@@")]),this._v(" to split command line parameters.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h2",{attrs:{id:"examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#examples","aria-hidden":"true"}},[this._v("#")]),this._v(" Examples")])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"turn-a-computer-on-and-off"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#turn-a-computer-on-and-off","aria-hidden":"true"}},[this._v("#")]),this._v(" Turn a Computer ON and OFF")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("MyLinuxPC")]),t._v(" "),s("span",{attrs:{class:"token string"}},[t._v('"My Linux PC"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" wol"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"192.168.1.255#00-1f-d0-93-f8-b7"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exec"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('">[OFF:ssh user@host shutdown -p now]"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"knx-bus-to-exec-command"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#knx-bus-to-exec-command","aria-hidden":"true"}},[this._v("#")]),this._v(" KNX Bus to Exec Command")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"language- extra-class"},[s("pre",{pre:!0,attrs:{class:"language-dsl"}},[s("code",[s("span",{attrs:{class:"token keyword"}},[t._v("Switch")]),t._v(" "),s("span",{attrs:{class:"token class-name"}},[t._v("Network_NAS")]),t._v("\t"),s("span",{attrs:{class:"token string"}},[t._v('"NAS"')]),s("span",{attrs:{class:"token tag"}},[t._v("\t(Network, Status)")]),t._v("\t"),s("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" nh"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"192.168.1.100"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" knx"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('"<2/0/0"')]),s("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" exec"),s("span",{attrs:{class:"token operator"}},[t._v("=")]),s("span",{attrs:{class:"token string"}},[t._v('">[OFF:ssh user@host shutdown -p now]"')]),t._v(" "),s("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("h3",{attrs:{id:"more-examples"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#more-examples","aria-hidden":"true"}},[this._v("#")]),this._v(" More Examples")])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"language- extra-class"},[e("pre",{pre:!0,attrs:{class:"language-text"}},[e("code",[this._v('exec=">[ON:/bin/sh@@-c@@echo on >> /tmp/sw_log] >[OFF:/bin/sh@@-c@@echo off >> /tmp/sw_log]"\nexec=">[1:open /mp3/gong.mp3] >[2:open /mp3/greeting.mp3] >[*:open /mp3/generic.mp3]"\nexec="<[curl -s http://weather.yahooapis.com/forecastrss?w=566473&u=c:60000:XSLT(demo_yahoo_weather.xsl)]"\nexec="<[/bin/sh@@-c@@uptime | awk \'{ print $10 }\':60000:REGEX((.*?))]"\nexec="<[execute.bat %1$tY-%1$tm-%1$td %2$s %3$s:60000:REGEX((.*?))]"\nexec="<[php ./configurations/scripts/script.php:60000:REGEX((.*?))]"\nexec="<[/bin/sh@@-c@@uptime | awk \'{ print $10 }\':]"\n\n// deprecated format\nexec="OFF:ssh user@host shutdown -p now"\nexec="OFF:some command, ON:\'some other\\, more \\\'complex\\\' \\\\command\\\\ to execute\', *:fallback command"\nexec="1:open /path/to/my/mp3/gong.mp3, 2:open /path/to/my/mp3/greeting.mp3, *:open /path/to/my/mp3/generic.mp3"\n')])])])}],!1,null,null,null);n.options.__file="readme.md";e.default=n.exports}}]);